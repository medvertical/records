
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/dev-server.ts

[SchemaStructuralValidator] @asymmetrik/fhir-json-schema-validator not available
19:34:08 [[32minfo[39m]: [TerminologyAdapter] Initialized with mode-specific caching and metrics tracking {"service":"records-fhir-platform"}
19:34:08 [[32minfo[39m]: [TerminologyAdapter] Initialized with mode-specific caching and metrics tracking {"service":"records-fhir-platform"}
[ReferenceValidator] Initialized reference fields for 5 FHIR R4 resource types
[BusinessRuleValidator] Initialized business rules for 4 FHIR R4 resource types
[ValidationEngine] getValidationEngine called
[ValidationEngine] Creating new validation engine instance
[ValidationEngine] Constructor called
[ValidationEngine] FHIR version: R4
19:34:08 [[32minfo[39m]: [TerminologyAdapter] Initialized with mode-specific caching and metrics tracking {"service":"records-fhir-platform"}
[ReferenceValidator] Initialized reference fields for 5 FHIR R4 resource types
[BusinessRuleValidator] Initialized business rules for 4 FHIR R4 resource types
[PipelineOrchestrator] Constructor called
[ValidationEngine] getValidationEngine called
[ValidationEngine] Returning existing validation engine instance
[ValidationEngine] getValidationEngine called
[ValidationEngine] Returning existing validation engine instance
19:34:08 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"fhir-servers","ttl":300000,"size":644,"tags":["fhir-server"]}
19:34:08 [[32minfo[39m]: [Database [getFhirServers]] Fetched FHIR servers {"service":"records-fhir-platform","count":2}
19:34:08 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:34:08 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[Routes] Using FHIR server from database: https://server.fire.ly
[Routes] Active server from DB: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
Development server serving on port 3000 (Replit-compatible)
19:34:08 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"validation-profiles-all","ttl":600000,"size":644,"tags":["validation-profiles"]}
19:34:08 [[32minfo[39m]: [Database [getValidationProfiles]] Fetched validation profiles {"service":"records-fhir-platform","count":1}
19:34:08 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"dashboard-cards","ttl":600000,"size":440,"tags":["dashboard-cards"]}
19:34:08 [[32minfo[39m]: [Database [getDashboardCards]] Fetched dashboard cards {"service":"records-fhir-platform","count":2}
19:34:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Observation/200eb79c-2d59-4413-9728-7c462c692a9f (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Observation, fhirId=200eb79c-2d59-4413-9728-7c462c692a9f
[getResourceMessages] Found 6 validation result records for Observation/200eb79c-2d59-4413-9728-7c462c692a9f
GET /api/validation/resources/Observation/200eb79c-2d59-4413-9728-7c462c692a9f/â€¦
19:34:24 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceMessages] Found 6 validation result records for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
GET /api/validation/resources/Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed/meâ€¦
GET /api/validation/settings 200 in 27ms :: {"aspects":{"profile":{"enabled":faâ€¦
GET /api/validation/settings 200 in 1ms :: {"aspects":{"profile":{"enabled":falâ€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
19:34:47 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"fhir-servers","hits":1}
GET /api/fhir/servers 200 in 1ms :: [{"id":2,"name":"HAPI FHIR Server","url":"hâ€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
GET /api/validation/settings 304 in 1ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":3}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
GET /api/fhir/connection/test 200 in 584ms :: {"connected":true,"version":"4.0.â€¦
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":4}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
GET /api/fhir/connection/test 200 in 745ms :: {"connected":true,"version":"4.0.â€¦
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/validation/settings 200 in 1ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":5}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
19:34:48 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 1ms :: {"success":true,"messâ€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":6}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/fhir/connection/test 200 in 670ms :: {"connected":true,"version":"4.0.â€¦
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":7}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:25:56.390Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
19:34:48 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 8ms :: {"success":true,"messâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":8}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":9}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:25:56.390Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":10}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":11}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":12}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":13}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":14}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":15}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":16}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":17}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":18}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":19}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":20}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":21}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":22}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":23}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":24}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":25}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":26}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":27}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":28}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":29}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":30}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":31}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":32}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":33}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":34}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":35}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":36}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":37}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":38}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":39}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":40}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:25:56.390Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":41}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":42}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":43}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":44}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":45}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":46}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":47}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":48}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 742ms :: {"resources":[{"resourceType":"Encounteâ€¦
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 681ms :: {"resources":[{"resourceType":"Encounteâ€¦
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":49}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":50}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":51}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":52}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":53}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":54}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":55}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":56}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":57}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":58}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":59}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":60}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":61}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":62}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:34:48 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":63}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 214ms :: {"resources":[{"resourceType":"Encounteâ€¦
GET /api/fhir/connection/test 200 in 1303ms :: {"connected":true,"version":"4.0â€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:51 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 1ms :: {"success":true,"messâ€¦
GET /api/validation/settings 200 in 2ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:34:51 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":64}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:51 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":65}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:25:56.390Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 151ms :: {"â€¦
[ValidationRoute] Validating resource: Encounter 086bf881-3303-4f27-93a3-d65b8b00e4dc
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (forceRevalidation: true) ***
19:34:51 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:51 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
19:34:51 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18850 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: true) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: NO ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204091346
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Starting validation for resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Encounter resource terminology...
[TerminologyValidator] Mode: online, Version: R4
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[TerminologyValidator] HAPI validator available: true
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (55ms total)
[HapiValidatorClient] Validation completed in 56ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Encounter terminology in 120ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Encounter (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Encounter resource business rules...
[BusinessRuleValidator] Validated Encounter business rules in 1ms, found 2 issues
[MetadataValidator] Validating Encounter resource metadata...
[MetadataValidator] Validated Encounter metadata in 1ms, found 0 issues
[ValidationEngine] Validation completed for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: { isValid: false, issueCount: 2, validationTime: 122 }
[PipelineOrchestrator] Completed validation for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (dbId: 18850) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 2
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:34:51 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":66}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18850
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "086bf881-3303-4f27-93a3-d65b8b00e4dc",
  "resourceType": "Encounter",
  "isValid": false,
  "issuesCount": 2,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 2
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88569) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect reference for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88570) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect businessRule for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88571) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect metadata for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88572) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
19:34:51 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":4}
[ValidationResourcePersistence] Cleared cache for resource ID: 18850
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
POST /api/validation/validate-resource-detailed 200 in 193ms :: {"success":trueâ€¦
GET /api/fhir/connection/test 200 in 450ms :: {"connected":true,"version":"4.0.â€¦
GET /api/fhir/connection/test 200 in 643ms :: {"connected":true,"version":"4.0.â€¦
19:34:52 [[32minfo[39m]: [ResourceMessages] Fetching messages for Observation/200eb79c-2d59-4413-9728-7c462c692a9f (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Observation, fhirId=200eb79c-2d59-4413-9728-7c462c692a9f
[getResourceMessages] Found 6 validation result records for Observation/200eb79c-2d59-4413-9728-7c462c692a9f
GET /api/validation/resources/Observation/200eb79c-2d59-4413-9728-7c462c692a9f/â€¦
19:34:52 [[32minfo[39m]: [Single Revalidate] Revalidating Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc on server 1 {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Found resource with DB ID: 18850 {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Current settings: {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Settings override: {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Calling ConsolidatedValidationService.validateResource... {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] ServerId: 1 {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Resource type: Encounter {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Resource id: 086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] Resource FHIR id: 086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (forceRevalidation: true) ***
19:34:52 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
19:34:52 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18850 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204092841
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Starting validation for resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Encounter resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using cached result
[ReferenceValidator] SKIPPING reference validation for Encounter (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Encounter resource business rules...
[BusinessRuleValidator] Validated Encounter business rules in 1ms, found 2 issues
[MetadataValidator] Validating Encounter resource metadata...
[MetadataValidator] Validated Encounter metadata in 1ms, found 0 issues
[ValidationEngine] Validation completed for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: { isValid: false, issueCount: 2, validationTime: 3 }
[PipelineOrchestrator] Completed validation for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (dbId: 18850) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 2
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:34:52 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:34:52 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18850
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "086bf881-3303-4f27-93a3-d65b8b00e4dc",
  "resourceType": "Encounter",
  "isValid": false,
  "issuesCount": 2,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 2
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88573) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect reference for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88574) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect businessRule for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88575) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect metadata for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88576) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
19:34:52 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18850
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
19:34:52 [[32minfo[39m]: [Single Revalidate] Validation completed successfully for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
19:34:52 [[32minfo[39m]: [Single Revalidate] ValidationResult: {"service":"records-fhir-platform"}
POST /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/râ€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:54 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:54 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:34:55 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:34:55 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:55 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:52.861Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 182ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:56 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:56 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:34:57 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:57 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":3}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:52.861Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 250ms :: {"â€¦
19:34:58 [[32minfo[39m]: [Single Revalidate] Revalidating Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc on server 1 {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Found resource with DB ID: 18850 {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Current settings: {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Settings override: {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Calling ConsolidatedValidationService.validateResource... {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] ServerId: 1 {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Resource type: Encounter {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Resource id: 086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] Resource FHIR id: 086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (forceRevalidation: true) ***
19:34:58 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
19:34:58 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18850 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204098119
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Starting validation for resource: Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Encounter resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using cached result
[ReferenceValidator] SKIPPING reference validation for Encounter (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Encounter resource business rules...
[BusinessRuleValidator] Validated Encounter business rules in 0ms, found 2 issues
[MetadataValidator] Validating Encounter resource metadata...
[MetadataValidator] Validated Encounter metadata in 1ms, found 0 issues
[ValidationEngine] Validation completed for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: { isValid: false, issueCount: 2, validationTime: 1 }
[PipelineOrchestrator] Completed validation for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (dbId: 18850) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 2
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:34:58 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":4}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18850
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "086bf881-3303-4f27-93a3-d65b8b00e4dc",
  "resourceType": "Encounter",
  "isValid": false,
  "issuesCount": 2,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 2
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88577) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect reference for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88578) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect businessRule for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88579) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Persisting aspect metadata for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88580) for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
19:34:58 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18850
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc ***
19:34:58 [[32minfo[39m]: [Single Revalidate] Validation completed successfully for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc {"service":"records-fhir-platform"}
19:34:58 [[32minfo[39m]: [Single Revalidate] ValidationResult: {"service":"records-fhir-platform"}
POST /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/râ€¦
19:34:58 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:34:58 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:34:59 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:34:59 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:34:59 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 182ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:00 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:00 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:00 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:00 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":3}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 251ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:02 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:02 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:02 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":4}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:02 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":5}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 133ms :: {"â€¦
19:35:02 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:02 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":6}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":7}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 228ms :: {"â€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
GET /api/validation/settings 200 in 1ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":8}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":9}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":10}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":11}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":12}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/connection/test 200 in 545ms :: {"connected":true,"version":"4.0.â€¦
GET /api/fhir/connection/test 200 in 547ms :: {"connected":true,"version":"4.0.â€¦
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":13}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":14}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/connection/test 200 in 687ms :: {"connected":true,"version":"4.0.â€¦
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":15}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
19:35:03 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 0ms :: {"success":true,"messâ€¦
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":16}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":17}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
19:35:03 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 0ms :: {"success":true,"messâ€¦
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":18}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":19}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":20}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":21}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":22}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":23}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":24}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":25}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":26}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":27}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":28}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 538ms :: {"resources":[{"resourceType":"Encounteâ€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FhirClient] Calling URL: https://server.fire.ly/Encounter?_count=20&_total=accurate&_format=json
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":29}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":30}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/connection/test 200 in 210ms :: {"connected":true,"version":"4.0.â€¦
19:35:03 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 0ms :: {"success":true,"messâ€¦
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":31}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:03 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":32}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":33}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":34}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":35}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":36}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":37}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":38}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":39}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":40}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":41}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":42}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":43}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":44}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":45}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":46}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":47}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":48}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":49}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":50}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":51}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":52}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[FhirClient] Response total: 4153, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":53}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed in database: Found with ID 18846
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'f26c6a45-48f1-4c54-843f-df8c6e7319ed'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":54}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":55}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[getResourceValidationSummary] Found 6 validation results for Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed
[FHIR API] Enhanced Encounter/f26c6a45-48f1-4c54-843f-df8c6e7319ed with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T19:31:44.262Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e in database: Found with ID 18845
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'd82ddee9-0463-40d4-a11b-95e0e7b5800e'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":56}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":57}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e
[FHIR API] Enhanced Encounter/d82ddee9-0463-40d4-a11b-95e0e7b5800e with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.925Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":58}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":59}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":60}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":61}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":62}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Looking up resource Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 in database: Found with ID 18849
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a3f7a0a-eb7e-479d-8e04-aa06ccd10139'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":63}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139
[FHIR API] Enhanced Encounter/7a3f7a0a-eb7e-479d-8e04-aa06ccd10139 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.991Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":64}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 in database: Found with ID 18848
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2f3a4b57-8a2c-47f5-ad97-210223506d86'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":65}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":66}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
GET /api/fhir/connection/test 200 in 742ms :: {"connected":true,"version":"4.0.â€¦
[getResourceValidationSummary] Found 4 validation results for Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86
[FHIR API] Enhanced Encounter/2f3a4b57-8a2c-47f5-ad97-210223506d86 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.973Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":67}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":68}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":69}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Looking up resource Encounter/cac1c827-391d-4188-9c53-d95a965c422c in database: Found with ID 18847
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'cac1c827-391d-4188-9c53-d95a965c422c'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":70}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=cac1c827-391d-4188-9c53-d95a965c422c
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 380ms :: {"resources":[{"resourceType":"Encounteâ€¦
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/cac1c827-391d-4188-9c53-d95a965c422c
[FHIR API] Enhanced Encounter/cac1c827-391d-4188-9c53-d95a965c422c with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.957Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":71}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Looking up resource Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 in database: Found with ID 18853
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":72}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70
[FHIR API] Enhanced Encounter/be17a3fd-fe8a-4c78-b8ea-43cbc5ac2e70 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.064Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":73}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Looking up resource Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc in database: Found with ID 18852
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '74bd99c8-2348-4e56-81a5-69ef54b531fc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":74}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=74bd99c8-2348-4e56-81a5-69ef54b531fc
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc
[FHIR API] Enhanced Encounter/74bd99c8-2348-4e56-81a5-69ef54b531fc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.045Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb in database: Found with ID 18851
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7a46cc9f-913d-45e6-b363-ff40d4cfbaeb'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":75}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":76}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb
[FHIR API] Enhanced Encounter/7a46cc9f-913d-45e6-b363-ff40d4cfbaeb with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.025Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":77}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Looking up resource Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 in database: Found with ID 3003
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '869d6ba0-67b2-4c43-8cd6-0307ad289a01'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":78}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=869d6ba0-67b2-4c43-8cd6-0307ad289a01
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01
[FHIR API] Enhanced Encounter/869d6ba0-67b2-4c43-8cd6-0307ad289a01 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:31.897Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 in database: Found with ID 3001
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '426b5c50-29d9-451e-9364-bcd8f721ad84'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":79}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":80}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[getResourceValidationSummary] Found 4 validation results for Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84
[FHIR API] Enhanced Encounter/426b5c50-29d9-451e-9364-bcd8f721ad84 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.105Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":81}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Looking up resource Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 in database: Found with ID 3004
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '75d42cee-96f8-4514-8256-04fa4b665a73'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":82}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=75d42cee-96f8-4514-8256-04fa4b665a73
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[getResourceValidationSummary] Found 4 validation results for Encounter/75d42cee-96f8-4514-8256-04fa4b665a73
[FHIR API] Enhanced Encounter/75d42cee-96f8-4514-8256-04fa4b665a73 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.141Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":83}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Looking up resource Encounter/064e1026-842d-48fd-b7ed-00578cd405ec in database: Found with ID 3000
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '064e1026-842d-48fd-b7ed-00578cd405ec'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":84}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=064e1026-842d-48fd-b7ed-00578cd405ec
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 376ms :: {"resources":[{"resourceType":"Encounteâ€¦
[getResourceValidationSummary] Found 4 validation results for Encounter/064e1026-842d-48fd-b7ed-00578cd405ec
[FHIR API] Enhanced Encounter/064e1026-842d-48fd-b7ed-00578cd405ec with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.088Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/310be918-e046-41c1-9db8-8cf0943eece1 in database: Found with ID 3005
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '310be918-e046-41c1-9db8-8cf0943eece1'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":85}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=310be918-e046-41c1-9db8-8cf0943eece1
[getResourceValidationSummary] Found 4 validation results for Encounter/310be918-e046-41c1-9db8-8cf0943eece1
[FHIR API] Enhanced Encounter/310be918-e046-41c1-9db8-8cf0943eece1 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.158Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 in database: Found with ID 3002
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '2dd3666c-0a1b-4807-82c5-a42c750d3f76'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":86}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=2dd3666c-0a1b-4807-82c5-a42c750d3f76
[getResourceValidationSummary] Found 4 validation results for Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76
[FHIR API] Enhanced Encounter/2dd3666c-0a1b-4807-82c5-a42c750d3f76 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.123Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b in database: Found with ID 3016
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: 'bb943062-f103-43c1-92bb-ddb103ff8d3b'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":87}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=bb943062-f103-43c1-92bb-ddb103ff8d3b
[getResourceValidationSummary] Found 4 validation results for Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b
[FHIR API] Enhanced Encounter/bb943062-f103-43c1-92bb-ddb103ff8d3b with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.249Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:04 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Looking up resource Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 in database: Found with ID 3014
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '192d9c6e-e9db-474f-a198-181a12763fc8'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":88}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=192d9c6e-e9db-474f-a198-181a12763fc8
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 4 validation results for Encounter/192d9c6e-e9db-474f-a198-181a12763fc8
[FHIR API] Enhanced Encounter/192d9c6e-e9db-474f-a198-181a12763fc8 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.231Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Looking up resource Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed in database: Found with ID 3010
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '3df2502f-da1e-45f0-b152-2bd52a94b9ed'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":89}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=3df2502f-da1e-45f0-b152-2bd52a94b9ed
[getResourceValidationSummary] Found 4 validation results for Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed
[FHIR API] Enhanced Encounter/3df2502f-da1e-45f0-b152-2bd52a94b9ed with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.176Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/7019a11a-1390-484b-8872-77e0617c27b5 in database: Found with ID 3012
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '7019a11a-1390-484b-8872-77e0617c27b5'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":90}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=7019a11a-1390-484b-8872-77e0617c27b5
[getResourceValidationSummary] Found 4 validation results for Encounter/7019a11a-1390-484b-8872-77e0617c27b5
[FHIR API] Enhanced Encounter/7019a11a-1390-484b-8872-77e0617c27b5 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 in database: Found with ID 3011
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '94f088c1-98cc-4503-841f-3bbeba08d574'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":91}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=94f088c1-98cc-4503-841f-3bbeba08d574
[getResourceValidationSummary] Found 4 validation results for Encounter/94f088c1-98cc-4503-841f-3bbeba08d574
[FHIR API] Enhanced Encounter/94f088c1-98cc-4503-841f-3bbeba08d574 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:20:32.195Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 354ms :: {"resources":[{"resourceType":"Encounteâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":92}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:04 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":93}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 145ms :: {"â€¦
GET /api/fhir/connection/test 200 in 1247ms :: {"connected":true,"version":"4.0â€¦
[FhirClient] Calling URL: https://server.fire.ly/Condition?_count=20&_total=accurate&_format=json
[FhirClient] Response total: 5005, entry count: 20
[FHIR API] enhanceResourcesWithValidationData called with 20 resources
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":94}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/fb6902b0-2a75-404f-8de8-27acaff7eda9 in database: Found with ID 18854
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'fb6902b0-2a75-404f-8de8-27acaff7eda9'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":95}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=fb6902b0-2a75-404f-8de8-27acaff7eda9
[getResourceValidationSummary] Found 6 validation results for Condition/fb6902b0-2a75-404f-8de8-27acaff7eda9
[FHIR API] Enhanced Condition/fb6902b0-2a75-404f-8de8-27acaff7eda9 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 0,
  validationScore: 100,
  lastValidated: 2025-10-11T18:04:26.070Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":96}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T16:42:20.203Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 in database: Found with ID 1999
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '7abf03d4-72dd-46ba-baf2-8239a8b826a9'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":97}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=7abf03d4-72dd-46ba-baf2-8239a8b826a9
[getResourceValidationSummary] Found 6 validation results for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[FHIR API] Enhanced Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:18.772Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/5e7a2633-663a-4f91-b17e-68c22509bbab in database: Found with ID 2001
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '5e7a2633-663a-4f91-b17e-68c22509bbab'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":98}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=5e7a2633-663a-4f91-b17e-68c22509bbab
[getResourceValidationSummary] Found 6 validation results for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[FHIR API] Enhanced Condition/5e7a2633-663a-4f91-b17e-68c22509bbab with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:18.917Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/2ac46945-96bc-48da-98cd-c977d7b9887a in database: Found with ID 2007
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '2ac46945-96bc-48da-98cd-c977d7b9887a'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":99}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=2ac46945-96bc-48da-98cd-c977d7b9887a
[getResourceValidationSummary] Found 6 validation results for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[FHIR API] Enhanced Condition/2ac46945-96bc-48da-98cd-c977d7b9887a with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.559Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 in database: Found with ID 2003
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '4ca444fa-a29d-49f6-be48-b7b5289fa3e4'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":100}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[getResourceValidationSummary] Found 6 validation results for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[FHIR API] Enhanced Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.061Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d in database: Found with ID 2004
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '044da338-25fb-4cc1-990c-4bf09a8ec47d'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":101}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=044da338-25fb-4cc1-990c-4bf09a8ec47d
[getResourceValidationSummary] Found 6 validation results for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[FHIR API] Enhanced Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.220Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 in database: Found with ID 2005
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":102}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[getResourceValidationSummary] Found 6 validation results for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[FHIR API] Enhanced Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.379Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 in database: Found with ID 2016
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '3816935a-5b94-4b80-9969-59b46b18cbc6'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":103}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=3816935a-5b94-4b80-9969-59b46b18cbc6
[getResourceValidationSummary] Found 6 validation results for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[FHIR API] Enhanced Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.872Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/ec3502ac-8752-4805-9040-ab3864a64c0c in database: Found with ID 2013
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'ec3502ac-8752-4805-9040-ab3864a64c0c'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":104}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=ec3502ac-8752-4805-9040-ab3864a64c0c
[getResourceValidationSummary] Found 6 validation results for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[FHIR API] Enhanced Condition/ec3502ac-8752-4805-9040-ab3864a64c0c with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T16:42:19.723Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/3ac64f29-4583-4e08-a014-ff5973b7a69e in database: Found with ID 2012
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '3ac64f29-4583-4e08-a014-ff5973b7a69e'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":105}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=3ac64f29-4583-4e08-a014-ff5973b7a69e
[getResourceValidationSummary] Found 6 validation results for Condition/3ac64f29-4583-4e08-a014-ff5973b7a69e
[FHIR API] Enhanced Condition/3ac64f29-4583-4e08-a014-ff5973b7a69e with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:09.819Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/ff18a5c4-be4d-4851-be1b-482810ef7be7 in database: Found with ID 2011
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'ff18a5c4-be4d-4851-be1b-482810ef7be7'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":106}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=ff18a5c4-be4d-4851-be1b-482810ef7be7
[getResourceValidationSummary] Found 6 validation results for Condition/ff18a5c4-be4d-4851-be1b-482810ef7be7
[FHIR API] Enhanced Condition/ff18a5c4-be4d-4851-be1b-482810ef7be7 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:09.654Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/7763663a-dfec-45dd-8208-9d502dbb9b37 in database: Found with ID 2014
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '7763663a-dfec-45dd-8208-9d502dbb9b37'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":107}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=7763663a-dfec-45dd-8208-9d502dbb9b37
[getResourceValidationSummary] Found 6 validation results for Condition/7763663a-dfec-45dd-8208-9d502dbb9b37
[FHIR API] Enhanced Condition/7763663a-dfec-45dd-8208-9d502dbb9b37 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:09.950Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/16c4e921-314d-40dc-bb01-abcd273f4780 in database: Found with ID 2015
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '16c4e921-314d-40dc-bb01-abcd273f4780'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":108}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=16c4e921-314d-40dc-bb01-abcd273f4780
[getResourceValidationSummary] Found 6 validation results for Condition/16c4e921-314d-40dc-bb01-abcd273f4780
[FHIR API] Enhanced Condition/16c4e921-314d-40dc-bb01-abcd273f4780 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:10.076Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/437f1ff4-e50b-474e-94a3-377b88a5f8b9 in database: Found with ID 2008
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '437f1ff4-e50b-474e-94a3-377b88a5f8b9'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":109}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=437f1ff4-e50b-474e-94a3-377b88a5f8b9
[getResourceValidationSummary] Found 6 validation results for Condition/437f1ff4-e50b-474e-94a3-377b88a5f8b9
[FHIR API] Enhanced Condition/437f1ff4-e50b-474e-94a3-377b88a5f8b9 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:09.502Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/69330c50-ae10-48e5-acfd-9490afe259d0 in database: Found with ID 2006
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '69330c50-ae10-48e5-acfd-9490afe259d0'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":110}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=69330c50-ae10-48e5-acfd-9490afe259d0
[getResourceValidationSummary] Found 6 validation results for Condition/69330c50-ae10-48e5-acfd-9490afe259d0
[FHIR API] Enhanced Condition/69330c50-ae10-48e5-acfd-9490afe259d0 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:09.334Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/93d287ce-59a5-4cae-87d8-3dd8d8129e7d in database: Found with ID 2029
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '93d287ce-59a5-4cae-87d8-3dd8d8129e7d'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":111}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=93d287ce-59a5-4cae-87d8-3dd8d8129e7d
[getResourceValidationSummary] Found 6 validation results for Condition/93d287ce-59a5-4cae-87d8-3dd8d8129e7d
[FHIR API] Enhanced Condition/93d287ce-59a5-4cae-87d8-3dd8d8129e7d with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:10.491Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/f9e34276-797e-462d-a806-709e5d8a5d4c in database: Found with ID 2031
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'f9e34276-797e-462d-a806-709e5d8a5d4c'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":112}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=f9e34276-797e-462d-a806-709e5d8a5d4c
[getResourceValidationSummary] Found 6 validation results for Condition/f9e34276-797e-462d-a806-709e5d8a5d4c
[FHIR API] Enhanced Condition/f9e34276-797e-462d-a806-709e5d8a5d4c with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:10.630Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/c6ed667e-a945-4dba-a23d-8b6f703bd768 in database: Found with ID 2028
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'c6ed667e-a945-4dba-a23d-8b6f703bd768'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":113}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=c6ed667e-a945-4dba-a23d-8b6f703bd768
[getResourceValidationSummary] Found 6 validation results for Condition/c6ed667e-a945-4dba-a23d-8b6f703bd768
[FHIR API] Enhanced Condition/c6ed667e-a945-4dba-a23d-8b6f703bd768 with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:10.344Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Looking up resource Condition/af174427-d92d-4926-8810-544b5671710a in database: Found with ID 2025
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: 'af174427-d92d-4926-8810-544b5671710a'
}
19:35:06 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":114}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=af174427-d92d-4926-8810-544b5671710a
[getResourceValidationSummary] Found 6 validation results for Condition/af174427-d92d-4926-8810-544b5671710a
[FHIR API] Enhanced Condition/af174427-d92d-4926-8810-544b5671710a with per-aspect validation data: {
  isValid: true,
  hasErrors: false,
  hasWarnings: false,
  errorCount: 0,
  warningCount: 0,
  informationCount: 1,
  validationScore: 99,
  lastValidated: 2025-10-11T18:04:10.213Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
GET /api/fhir/resources 200 in 411ms :: {"resources":[{"resourceType":"Conditioâ€¦
19:35:06 [[32minfo[39m]: [Validate By IDs] Validating 9 resources by database IDs {"service":"records-fhir-platform"}
19:35:06 [[32minfo[39m]: [Validate By IDs] Found 9 resources to validate {"service":"records-fhir-platform"}
19:35:06 [[32minfo[39m]: [Validate By IDs] Current settings: {"service":"records-fhir-platform"}
19:35:06 [[32minfo[39m]: [Validate By IDs] Settings override: {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 (forceRevalidation: true) ***
19:35:06 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 1999 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204106927
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[ValidationEngine] Starting validation for resource: Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (79ms total)
[HapiValidatorClient] Validation completed in 79ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 79ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 1ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9: { isValid: true, issueCount: 0, validationTime: 81 }
[PipelineOrchestrator] Completed validation for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 (dbId: 1999) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":115}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 1999
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "7abf03d4-72dd-46ba-baf2-8239a8b826a9",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88581) for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Persisting aspect reference for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88582) for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88583) for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88584) for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 1999
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/7abf03d4-72dd-46ba-baf2-8239a8b826a9 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/5e7a2633-663a-4f91-b17e-68c22509bbab (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2001 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107043
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[ValidationEngine] Starting validation for resource: Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (59ms total)
[HapiValidatorClient] Validation completed in 59ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 60ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab: { isValid: true, issueCount: 0, validationTime: 60 }
[PipelineOrchestrator] Completed validation for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab (dbId: 2001) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2001
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "5e7a2633-663a-4f91-b17e-68c22509bbab",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88585) for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Persisting aspect reference for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88586) for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88587) for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88588) for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2001
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/5e7a2633-663a-4f91-b17e-68c22509bbab ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/5e7a2633-663a-4f91-b17e-68c22509bbab {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2003 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107149
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[ValidationEngine] Starting validation for resource: Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (51ms total)
[HapiValidatorClient] Validation completed in 51ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 51ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 1ms, found 0 issues
[ValidationEngine] Validation completed for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4: { isValid: true, issueCount: 0, validationTime: 52 }
[PipelineOrchestrator] Completed validation for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 (dbId: 2003) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2003
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "4ca444fa-a29d-49f6-be48-b7b5289fa3e4",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88589) for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Persisting aspect reference for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88590) for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88591) for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88592) for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2003
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/4ca444fa-a29d-49f6-be48-b7b5289fa3e4 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2004 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107246
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[ValidationEngine] Starting validation for resource: Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (49ms total)
[HapiValidatorClient] Validation completed in 49ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 50ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d: { isValid: true, issueCount: 0, validationTime: 51 }
[PipelineOrchestrator] Completed validation for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d (dbId: 2004) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2004
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "044da338-25fb-4cc1-990c-4bf09a8ec47d",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88593) for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Persisting aspect reference for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88594) for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88595) for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88596) for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2004
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/044da338-25fb-4cc1-990c-4bf09a8ec47d {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2005 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107338
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[ValidationEngine] Starting validation for resource: Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (49ms total)
[HapiValidatorClient] Validation completed in 49ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 49ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3: { isValid: true, issueCount: 0, validationTime: 49 }
[PipelineOrchestrator] Completed validation for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 (dbId: 2005) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2005
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88597) for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Persisting aspect reference for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88598) for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88599) for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88600) for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2005
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/8a1548dd-92f0-4ca6-b41e-f643e9ec8cd3 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/2ac46945-96bc-48da-98cd-c977d7b9887a (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2007 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107465
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[ValidationEngine] Starting validation for resource: Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (48ms total)
[HapiValidatorClient] Validation completed in 48ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 48ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a: { isValid: true, issueCount: 0, validationTime: 49 }
[PipelineOrchestrator] Completed validation for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a (dbId: 2007) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2007
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "2ac46945-96bc-48da-98cd-c977d7b9887a",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88601) for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Persisting aspect reference for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88602) for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88603) for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88604) for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2007
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/2ac46945-96bc-48da-98cd-c977d7b9887a ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/2ac46945-96bc-48da-98cd-c977d7b9887a {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/ec3502ac-8752-4805-9040-ab3864a64c0c (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2013 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107581
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[ValidationEngine] Starting validation for resource: Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (57ms total)
[HapiValidatorClient] Validation completed in 57ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 57ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c: { isValid: true, issueCount: 0, validationTime: 59 }
[PipelineOrchestrator] Completed validation for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c (dbId: 2013) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2013
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "ec3502ac-8752-4805-9040-ab3864a64c0c",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88605) for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Persisting aspect reference for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88606) for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88607) for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88608) for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2013
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/ec3502ac-8752-4805-9040-ab3864a64c0c ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/ec3502ac-8752-4805-9040-ab3864a64c0c {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 2016 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107690
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[ValidationEngine] Starting validation for resource: Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (55ms total)
[HapiValidatorClient] Validation completed in 55ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 55ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 0 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6: { isValid: true, issueCount: 0, validationTime: 55 }
[PipelineOrchestrator] Completed validation for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6: valid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 (dbId: 2016) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 2016
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "3816935a-5b94-4b80-9969-59b46b18cbc6",
  "resourceType": "Condition",
  "isValid": true,
  "issuesCount": 0,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88609) for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Persisting aspect reference for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88610) for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88611) for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88612) for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 2016
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/3816935a-5b94-4b80-9969-59b46b18cbc6 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/701ef890-7029-4393-853c-75246833f550 (forceRevalidation: true) ***
19:35:07 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18855 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204107796
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Starting validation for resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using HAPI validator for R4 terminology (online, server: https://tx.fhir.org/r4)
[RetryHelper] Attempt 1/3
[HapiValidatorClient] Initializing HAPI validator for R4 (stable) with core package: hl7.fhir.r4.core@4.0.1
[HapiValidatorClient] Using terminology server (online): https://tx.fhir.org/r4
[RetryHelper] Success on attempt 1 (49ms total)
[HapiValidatorClient] Validation completed in 49ms (0 issues, 1 attempts)
[TerminologyValidator] HAPI validation complete: 0 terminology issues (0 total, server: https://tx.fhir.org/r4)
[TerminologyValidator] Validated Condition terminology in 49ms (0 issues, validator: HAPI)
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 1 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 1ms, found 0 issues
[ValidationEngine] Validation completed for Condition/701ef890-7029-4393-853c-75246833f550: { isValid: false, issueCount: 1, validationTime: 51 }
[PipelineOrchestrator] Completed validation for Condition/701ef890-7029-4393-853c-75246833f550: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 (dbId: 18855) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 1
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:07 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:07 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18855
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "701ef890-7029-4393-853c-75246833f550",
  "resourceType": "Condition",
  "isValid": false,
  "issuesCount": 1,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 1
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88613) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect reference for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88614) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88615) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88616) for Condition/701ef890-7029-4393-853c-75246833f550
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:07 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18855
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:07 [[34mdebug[39m]: [Validate By IDs] Successfully validated Condition/701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
19:35:07 [[32minfo[39m]: [Validate By IDs] Completed: 9/9 resources validated successfully {"service":"records-fhir-platform"}
POST /api/validation/validate-by-ids 200 in 971ms :: {"success":true,"validatedâ€¦
[FHIR API] Individual resource endpoint called for: unknown/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Patient/086bf881-3303-4f27-93a3-d65b8b00e4dc
19:35:08 [[32minfo[39m]: [ResourceMessages] Fetching messages for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceMessages] Found 6 validation result records for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
GET /api/validation/resources/Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc/meâ€¦
[FHIR API] Trying to fetch Observation/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Trying to fetch Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Successfully fetched Encounter resource 086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:08 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:08 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc in database: Found with ID 18850
[FHIR API] Resource data for lookup: {
  resourceType: 'Encounter',
  id: '086bf881-3303-4f27-93a3-d65b8b00e4dc'
}
19:35:08 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Encounter, fhirId=086bf881-3303-4f27-93a3-d65b8b00e4dc
[getResourceValidationSummary] Found 6 validation results for Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc
[FHIR API] Enhanced Encounter/086bf881-3303-4f27-93a3-d65b8b00e4dc with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 2,
  warningCount: 0,
  informationCount: 0,
  validationScore: 70,
  lastValidated: 2025-10-11T19:34:58.159Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 2,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/086bf881-3303-4f27-93a3-d65b8b00e4dc 200 in 226ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
19:35:11 [[34mdebug[39m]: [ValidationSettings] Settings change notification received {"service":"records-fhir-platform","body":{"changeType":"polling_detected","settingsId":"current","previousVersion":null,"newVersion":{"aspects":{"profile":{"enabled":false,"severity":"warning"},"metadata":{"enabled":true,"severity":"error"},"reference":{"enabled":true,"severity":"error"},"structural":{"enabled":false,"severity":"error"},"terminology":{"enabled":true,"severity":"warning"},"businessRules":{"enabled":true,"severity":"error"}},"performance":{"batchSize":50,"maxConcurrent":4},"resourceTypes":{"enabled":true,"excludedTypes":[],"includedTypes":["Patient","Observation","Condition","Encounter","Procedure","Medication","MedicationRequest","DiagnosticReport","AllergyIntolerance","Immunization","CarePlan","Goal","ServiceRequest","Organization","Practitioner","PractitionerRole","Location","DocumentReference","Composition","List","Appointment","Schedule","Slot"]},"mode":"online","terminologyFallback":{"local":"http://localhost:8081/fhir","remote":"https://tx.fhir.org/r4"},"useFhirValidateOperation":false,"autoRevalidateAfterEdit":false}}}
POST /api/validation/settings/notify-change 200 in 0ms :: {"success":true,"messâ€¦
GET /api/validation/settings 200 in 0ms :: {"aspects":{"profile":{"enabled":falâ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:11 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:11 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":3}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:07.873Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 442ms :: {"â€¦
[ValidationRoute] Validating resource: Condition 701ef890-7029-4393-853c-75246833f550
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/701ef890-7029-4393-853c-75246833f550 (forceRevalidation: true) ***
19:35:11 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
19:35:11 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
19:35:11 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18855 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: true) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: NO ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204111799
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Starting validation for resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using cached result
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 1 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/701ef890-7029-4393-853c-75246833f550: { isValid: false, issueCount: 1, validationTime: 1 }
[PipelineOrchestrator] Completed validation for Condition/701ef890-7029-4393-853c-75246833f550: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 (dbId: 18855) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 1
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:11 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":4}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18855
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "701ef890-7029-4393-853c-75246833f550",
  "resourceType": "Condition",
  "isValid": false,
  "issuesCount": 1,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 1
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88617) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect reference for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88618) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88619) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88620) for Condition/701ef890-7029-4393-853c-75246833f550
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:11 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18855
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
POST /api/validation/validate-resource-detailed 200 in 31ms :: {"success":true,â€¦
GET /api/fhir/connection/test 200 in 731ms :: {"connected":true,"version":"4.0.â€¦
GET /api/fhir/connection/test 200 in 820ms :: {"connected":true,"version":"4.0.â€¦
19:35:12 [[32minfo[39m]: [Single Revalidate] Revalidating Condition/701ef890-7029-4393-853c-75246833f550 on server 1 {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Found resource with DB ID: 18855 {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Current settings: {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Settings override: {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Calling ConsolidatedValidationService.validateResource... {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] ServerId: 1 {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Resource type: Condition {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Resource id: 701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] Resource FHIR id: 701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/701ef890-7029-4393-853c-75246833f550 (forceRevalidation: true) ***
19:35:12 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
19:35:12 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18855 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204112854
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Starting validation for resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using cached result
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 1 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/701ef890-7029-4393-853c-75246833f550: { isValid: false, issueCount: 1, validationTime: 0 }
[PipelineOrchestrator] Completed validation for Condition/701ef890-7029-4393-853c-75246833f550: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 (dbId: 18855) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 1
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:12 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:12 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18855
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "701ef890-7029-4393-853c-75246833f550",
  "resourceType": "Condition",
  "isValid": false,
  "issuesCount": 1,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 1
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88621) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect reference for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88622) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88623) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88624) for Condition/701ef890-7029-4393-853c-75246833f550
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:12 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18855
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:12 [[32minfo[39m]: [Single Revalidate] Validation completed successfully for Condition/701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
19:35:12 [[32minfo[39m]: [Single Revalidate] ValidationResult: {"service":"records-fhir-platform"}
POST /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/râ€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:14 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:14 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:15 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:15 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:15 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:12.880Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 261ms :: {"â€¦
19:35:16 [[32minfo[39m]: [Single Revalidate] Revalidating Condition/701ef890-7029-4393-853c-75246833f550 on server 1 {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Found resource with DB ID: 18855 {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Current settings: {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Settings override: {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Calling ConsolidatedValidationService.validateResource... {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] ServerId: 1 {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Resource type: Condition {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Resource id: 701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] Resource FHIR id: 701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
[ConsolidatedValidation] *** VALIDATE RESOURCE CALLED: Condition/701ef890-7029-4393-853c-75246833f550 (forceRevalidation: true) ***
19:35:16 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
19:35:16 [[31merror[39m]: [Database [getValidationResults]] Failed to fetch validation results {"service":"records-fhir-platform","error":"relation \"validation_results\" does not exist"}
[ConsolidatedValidation] *** DB RESOURCE ID: 18855 ***
[ConsolidatedValidation] *** NEEDS REVALIDATION: true (force: true, skip: false) ***
[ConsolidatedValidation] *** STARTING VALIDATION FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ConsolidatedValidation] *** SETTINGS OVERRIDE: YES ***
[PipelineOrchestrator] executePipeline called with requestId: validation_1760204116881
[PipelineOrchestrator] Resources to process: 1
[PipelineOrchestrator] Processing resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Starting validation for resource: Condition/701ef890-7029-4393-853c-75246833f550
[ValidationEngine] Validation settings: {
  "aspects": {
    "profile": {
      "enabled": false,
      "severity": "warning"
    },
    "metadata": {
      "enabled": true,
      "severity": "error"
    },
    "reference": {
      "enabled": true,
      "severity": "error"
    },
    "structural": {
      "enabled": false,
      "severity": "error"
    },
    "terminology": {
      "enabled": true,
      "severity": "warning"
    },
    "businessRules": {
      "enabled": true,
      "severity": "error"
    },
    "businessRule": {
      "enabled": true,
      "severity": "error"
    }
  },
  "performance": {
    "batchSize": 50,
    "maxConcurrent": 4
  },
  "resourceTypes": {
    "enabled": true,
    "excludedTypes": [],
    "includedTypes": [
      "Patient",
      "Observation",
      "Condition",
      "Encounter",
      "Procedure",
      "Medication",
      "MedicationRequest",
      "DiagnosticReport",
      "AllergyIntolerance",
      "Immunization",
      "CarePlan",
      "Goal",
      "ServiceRequest",
      "Organization",
      "Practitioner",
      "PractitionerRole",
      "Location",
      "DocumentReference",
      "Composition",
      "List",
      "Appointment",
      "Schedule",
      "Slot"
    ]
  },
  "mode": "online",
  "terminologyFallback": {
    "local": "http://localhost:8081/fhir",
    "remote": "https://tx.fhir.org/r4"
  },
  "useFhirValidateOperation": false,
  "autoRevalidateAfterEdit": false
}
[ValidationEngine] Requested aspects: [ 'terminology', 'reference', 'businessRule', 'metadata' ]
[ValidationEngine] ALL_VALIDATION_ASPECTS: [
  'structural',
  'profile',
  'terminology',
  'reference',
  'businessRule',
  'metadata'
]
[ValidationEngine] aspectsToExecute vs ALL_VALIDATION_ASPECTS: {
  aspectsToExecute: [ 'terminology', 'reference', 'businessRule', 'metadata' ],
  allAspects: [
    'structural',
    'profile',
    'terminology',
    'reference',
    'businessRule',
    'metadata'
  ],
  same: false
}
[TerminologyValidator] Validating Condition resource terminology...
[TerminologyValidator] Mode: online, Version: R4
[TerminologyValidator] Using cached result
[ReferenceValidator] SKIPPING reference validation for Condition (performance optimization)
[ReferenceValidator] Returning immediately to avoid any processing
[BusinessRuleValidator] Validating Condition resource business rules...
[BusinessRuleValidator] Validated Condition business rules in 0ms, found 1 issues
[MetadataValidator] Validating Condition resource metadata...
[MetadataValidator] Validated Condition metadata in 0ms, found 0 issues
[ValidationEngine] Validation completed for Condition/701ef890-7029-4393-853c-75246833f550: { isValid: false, issueCount: 1, validationTime: 1 }
[PipelineOrchestrator] Completed validation for Condition/701ef890-7029-4393-853c-75246833f550: invalid
[ConsolidatedValidation] *** CALLING persistValidationResult FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 (dbId: 18855) ***
[ValidationResourcePersistence] *** engineResult.aspects count: 4 ***
[ValidationResourcePersistence] *** engineResult.aspects: [
  {
    "aspect": "terminology",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "reference",
    "isValid": true,
    "issuesCount": 0
  },
  {
    "aspect": "businessRule",
    "isValid": false,
    "issuesCount": 1
  },
  {
    "aspect": "metadata",
    "isValid": true,
    "issuesCount": 0
  }
]
19:35:16 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[ValidationResourcePersistence] *** serverId: 1 ***
[ValidationResourcePersistence] Saving validation result for resource ID: 18855
[ValidationResourcePersistence] *** CALLING persistPerAspectResults with settingsUsed: YES ***
[ValidationResourcePersistence] *** SETTINGS SNAPSHOT: {"aspects":{"structural":{"enabled":false},"profile":{"enabled":false},"terminology":{"enabled":true},"reference":{"enabled":true},"businessRule":{"enabled":true},"metadata":{"enabled":true}}}
[ValidationResourcePersistence] *** CALLING persistEngineResultPerAspect for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** STARTING PERSISTENCE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[persistEngineResultPerAspect] *** serverId: 1 ***
[persistEngineResultPerAspect] *** settingsHash: 2d83234ed38a0d8b6ec3ca4d281fe74ad10b7c2799f8ea0eebbd7ca286d25be6 ***
[persistEngineResultPerAspect] *** aspectCount: 4 ***
[persistEngineResultPerAspect] *** hasAspects: true ***
[persistEngineResultPerAspect] *** engineResult structure: {
  "resourceId": "701ef890-7029-4393-853c-75246833f550",
  "resourceType": "Condition",
  "isValid": false,
  "issuesCount": 1,
  "aspectsCount": 4,
  "aspectsIsArray": true,
  "aspects": [
    {
      "aspect": "terminology",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "reference",
      "isValid": true,
      "issuesCount": 0
    },
    {
      "aspect": "businessRule",
      "isValid": false,
      "issuesCount": 1
    },
    {
      "aspect": "metadata",
      "isValid": true,
      "issuesCount": 0
    }
  ]
}
[persistEngineResultPerAspect] Persisting aspect terminology for Condition/701ef890-7029-4393-853c-75246833f550
19:35:16 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:16 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 5 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[persistEngineResultPerAspect] Successfully inserted terminology aspect (id: 88625) for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[persistEngineResultPerAspect] Persisting aspect reference for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted reference aspect (id: 88626) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect businessRule for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted businessRule aspect (id: 88627) for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Persisting aspect metadata for Condition/701ef890-7029-4393-853c-75246833f550
[persistEngineResultPerAspect] Successfully inserted metadata aspect (id: 88628) for Condition/701ef890-7029-4393-853c-75246833f550
[ValidationResourcePersistence] *** PER-ASPECT PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
[ValidationResourcePersistence] *** PERSISTENCE COMPLETE for Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:16 [[32minfo[39m]: Cache cleared {"service":"cache-manager","operation":"clear","entriesCleared":1}
[ValidationResourcePersistence] Cleared cache for resource ID: 18855
[ConsolidatedValidation] *** PERSISTENCE CALL COMPLETED FOR Condition/701ef890-7029-4393-853c-75246833f550 ***
19:35:16 [[32minfo[39m]: [Single Revalidate] Validation completed successfully for Condition/701ef890-7029-4393-853c-75246833f550 {"service":"records-fhir-platform"}
19:35:16 [[32minfo[39m]: [Single Revalidate] ValidationResult: {"service":"records-fhir-platform"}
POST /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/râ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:17 [[34mdebug[39m]: Cache set {"service":"cache-manager","operation":"set","key":"active-fhir-server","ttl":120000,"size":310,"tags":["fhir-server"]}
19:35:17 [[32minfo[39m]: [Database [getActiveFhirServer]] Fetched active FHIR server {"service":"records-fhir-platform","serverId":1}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:17 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":1}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 187ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:18 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:18 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
19:35:18 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:18 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:19 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":2}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:19 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":3}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 175ms :: {"â€¦
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:19 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":4}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:19 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":5}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 280ms :: {"â€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:20 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:20 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:21 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":6}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:21 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":7}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 289ms :: {"â€¦
19:35:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Observation/200eb79c-2d59-4413-9728-7c462c692a9f (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Observation, fhirId=200eb79c-2d59-4413-9728-7c462c692a9f
[getResourceMessages] Found 6 validation result records for Observation/200eb79c-2d59-4413-9728-7c462c692a9f
GET /api/validation/resources/Observation/200eb79c-2d59-4413-9728-7c462c692a9f/â€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
19:35:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:22 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:23 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":8}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:23 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":9}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:23 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":10}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 216ms :: {"â€¦
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:23 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":11}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 250ms :: {"â€¦
19:35:26 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
19:35:26 [[32minfo[39m]: [ResourceMessages] Fetching messages for Condition/701ef890-7029-4393-853c-75246833f550 (serverId: 1) {"service":"records-fhir-platform"}
[getResourceMessages] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[FHIR API] Individual resource endpoint called for: unknown/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Patient/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
[getResourceMessages] Found 6 validation result records for Condition/701ef890-7029-4393-853c-75246833f550
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
GET /api/validation/resources/Condition/701ef890-7029-4393-853c-75246833f550/meâ€¦
[FHIR API] Trying to fetch Observation/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Encounter/701ef890-7029-4393-853c-75246833f550
[FHIR API] Trying to fetch Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Successfully fetched Condition resource 701ef890-7029-4393-853c-75246833f550
[FHIR API] About to enhance resource with validation data (type search)
[FHIR API] enhanceResourcesWithValidationData called with 1 resources
19:35:27 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":12}
[FHIR API] Active server: {
  id: 1,
  name: 'Fire.ly Server',
  url: 'https://server.fire.ly',
  isActive: true,
  authConfig: null,
  fhirVersion: 'R4',
  createdAt: 2025-10-06T23:32:05.178Z
}
[FHIR API] Looking up resource Condition/701ef890-7029-4393-853c-75246833f550 in database: Found with ID 18855
[FHIR API] Resource data for lookup: {
  resourceType: 'Condition',
  id: '701ef890-7029-4393-853c-75246833f550'
}
19:35:27 [[34mdebug[39m]: Cache hit {"service":"cache-manager","operation":"get","key":"active-fhir-server","hits":13}
[getResourceValidationSummary] Querying for serverId=1, resourceType=Condition, fhirId=701ef890-7029-4393-853c-75246833f550
[getResourceValidationSummary] Found 6 validation results for Condition/701ef890-7029-4393-853c-75246833f550
[FHIR API] Enhanced Condition/701ef890-7029-4393-853c-75246833f550 with per-aspect validation data: {
  isValid: false,
  hasErrors: true,
  hasWarnings: false,
  errorCount: 1,
  warningCount: 0,
  informationCount: 1,
  validationScore: 84,
  lastValidated: 2025-10-11T19:35:16.907Z,
  aspectBreakdown: {
    metadata: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    businessRule: {
      isValid: false,
      errorCount: 1,
      warningCount: 0,
      informationCount: 0,
      score: 0
    },
    reference: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    terminology: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    },
    profile: {
      isValid: false,
      errorCount: 0,
      warningCount: 0,
      informationCount: 1,
      score: 0
    },
    structural: {
      isValid: true,
      errorCount: 0,
      warningCount: 0,
      informationCount: 0,
      score: 100
    }
  }
}
[FHIR API] Enhancement completed, returning enhanced resource (type search)
GET /api/fhir/resources/701ef890-7029-4393-853c-75246833f550 200 in 258ms :: {"â€¦
