{"date":"Thu Oct 09 2025 14:07:48 GMT+0200 (Central European Summer Time)","error":{},"level":"error","message":"unhandledRejection: logger.database is not a function\nTypeError: logger.database is not a function\n    at QueryOptimizer.getActiveFhirServer (/Users/sheydin/Sites/records/server/utils/query-optimizer.ts:96:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseStorage.getActiveFhirServer (/Users/sheydin/Sites/records/server/storage.ts:169:12)\n    at async initializeServices (/Users/sheydin/Sites/records/server/routes.ts:28:26)\n    at async setupRoutes (/Users/sheydin/Sites/records/server/routes.ts:60:3)\n    at async <anonymous> (/Users/sheydin/Sites/records/server/dev-server.ts:45:3)","os":{"loadavg":[54.71728515625,31.7060546875,26.77783203125],"uptime":712442},"process":{"argv":["/Users/sheydin/.nvm/versions/node/v20.19.4/bin/node","/Users/sheydin/Sites/records/server/dev-server.ts"],"cwd":"/Users/sheydin/Sites/records","execPath":"/Users/sheydin/.nvm/versions/node/v20.19.4/bin/node","gid":20,"memoryUsage":{"arrayBuffers":171618,"external":4507366,"heapTotal":57311232,"heapUsed":25305816,"rss":150880256},"pid":26603,"uid":501,"version":"v20.19.4"},"rejection":true,"service":"records-fhir-platform","stack":"TypeError: logger.database is not a function\n    at QueryOptimizer.getActiveFhirServer (/Users/sheydin/Sites/records/server/utils/query-optimizer.ts:96:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseStorage.getActiveFhirServer (/Users/sheydin/Sites/records/server/storage.ts:169:12)\n    at async initializeServices (/Users/sheydin/Sites/records/server/routes.ts:28:26)\n    at async setupRoutes (/Users/sheydin/Sites/records/server/routes.ts:60:3)\n    at async <anonymous> (/Users/sheydin/Sites/records/server/dev-server.ts:45:3)","timestamp":"2025-10-09 14:07:48","trace":[{"column":14,"file":"/Users/sheydin/Sites/records/server/utils/query-optimizer.ts","function":"QueryOptimizer.getActiveFhirServer","line":96,"method":"getActiveFhirServer","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/Users/sheydin/Sites/records/server/storage.ts","function":"async DatabaseStorage.getActiveFhirServer","line":169,"method":"getActiveFhirServer","native":false},{"column":26,"file":"/Users/sheydin/Sites/records/server/routes.ts","function":"async initializeServices","line":28,"method":null,"native":false},{"column":3,"file":"/Users/sheydin/Sites/records/server/routes.ts","function":"async setupRoutes","line":60,"method":null,"native":false},{"column":3,"file":"/Users/sheydin/Sites/records/server/dev-server.ts","function":"async <anonymous>","line":45,"method":null,"native":false}]}
